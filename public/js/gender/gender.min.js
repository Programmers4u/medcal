!function(h){function t(e,n){var o="name",r="email",t=h(e),i=!1,a=null,u=null,c=!0,l=o;t.detachApi=function(){c=!1},t.attachApi=function(){c=!0};var f={ip:"auto"};n.key&&(f.key=n.key),n.country&&(f.country=n.country),n.language&&(f.language=n.language),n.type&&(l=n.type);var s="https:"==document.location.protocol?"https://":"http://",p=n.url?n.url:s+"gender-api.com/get";if(t.query=function(e,n){if(e=h.trim(e),l==r&&0<e.indexOf("@")||l==o&&1<e.length){if(l==r?f.email=e:f.name=e,1==i)return;if(e==u)return;if(i=!0,u=e,!h.support.cors&&h.ajaxTransport&&window.XDomainRequest){var t=new XDomainRequest;if(t){window.location&&window.location.href&&(f.ref=window.location.href),t.onload=function(){var e=h.parseJSON(t.responseText);n(e),i=!1};var a="";h.each(f,function(e,n){a+="&"+e+"="+encodeURIComponent(n)}),t.open("get",p+"?"+a.substr(1)),t.send()}}else h.ajax({url:p,data:f,dataType:"json"}).done(function(e){n(e),i=!1})}else n({name:e,gender:null})},n.hasOwnProperty("name")&&n.callback)t.query(n.name,n.callback);else{var d=function(){if(c){var e=t.val();t.query(e,function(e){e.gender&&t.trigger("gender-found",e),i=!1})}};t.on({change:d,focusout:d,keyup:function(){a&&clearTimeout(a),a=setTimeout(d,500)},paste:function(){setTimeout(d,100)}}),t.data("genderapi",t)}}h.fn.genderApi=function(n){return this.each(function(){var e=h(this).data("genderapi");switch(n){case"detach":return e?(e.detachApi(),e):null;case"attach":return e?(e.attachApi(),e):null}return new t(this,n)})}}(jQuery);