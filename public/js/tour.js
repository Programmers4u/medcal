!function(h,u){var l;return l=u.document,t.prototype.addSteps=function(t){var e,o,n;for(o=0,n=t.length;o<n;o++)e=t[o],this.addStep(e);return this},t.prototype.addStep=function(t){return this._options.steps.push(t),this},t.prototype.getStep=function(t){return null!=this._options.steps[t]?h.extend({id:"step-"+t,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[t].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[t]):void 0},t.prototype.init=function(t){return this._force=t,this.ended()?this._debug("Tour ended, init prevented."):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize((e=this,function(){return e.showStep(e._current)})),null!==this._current&&this.showStep(this._current),this._inited=!0),this;var e},t.prototype.start=function(t){var e;return null==t&&(t=!1),this._inited||this.init(t),null===this._current&&(e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(e,this.showStep,0)),this},t.prototype.next=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showNextStep)},t.prototype.prev=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showPrevStep)},t.prototype.goTo=function(t){var e;return e=this.hideStep(this._current),this._callOnPromiseDone(e,this.showStep,t)},t.prototype.end=function(){var t,e,o;return t=function(){return h(l).off("click.tour-"+o._options.name),h(l).off("keyup.tour-"+o._options.name),h(u).off("resize.tour-"+o._options.name),o._setState("end","yes"),o._inited=!1,o._force=!1,o._clearTimer(),null!=o._options.onEnd?o._options.onEnd(o):void 0},e=(o=this).hideStep(this._current),this._callOnPromiseDone(e,t)},t.prototype.ended=function(){return!this._force&&!!this._getState("end")},t.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},t.prototype.pause=function(){var t;return(t=this.getStep(this._current))&&t.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,u.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=t.onPause?t.onPause(this,this._duration):void 0):this},t.prototype.resume=function(){var t,e;return(t=this.getStep(this._current))&&t.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||t.duration,this._timer=u.setTimeout(function(){return e._isLast()?e.next():e.end()},(e=this)._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=t.onResume&&this._duration!==t.duration?t.onResume(this,this._duration):void 0):this},t.prototype.hideStep=function(e){var t,o,n,r;return(n=this.getStep(e))?(this._clearTimer(),o=this._makePromise(null!=n.onHide?n.onHide(this,e):void 0),t=function(){var t;return(t=h(n.element)).data("bs.popover")||t.data("popover")||(t=h("body")),t.popover("destroy").removeClass("tour-"+r._options.name+"-element tour-"+r._options.name+"-"+e+"-element"),t.removeData("bs.popover"),n.reflex&&h(n.reflexElement).removeClass("tour-step-element-reflex").off(r._reflexEvent(n.reflex)+".tour-"+r._options.name),n.backdrop&&r._hideBackdrop(),null!=n.onHidden?n.onHidden(r):void 0},(r=this)._callOnPromiseDone(o,t),o):void 0},t.prototype.showStep=function(o){var t,e,n,r,i,s;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(r=this.getStep(o))?(n=o<this._current,t=this._makePromise(null!=r.onShow?r.onShow(this,o):void 0),s=this,e=function(){var t,e;if(s.setCurrentStep(o),t=function(){switch({}.toString.call(r.path)){case"[object Function]":return r.path();case"[object String]":return this._options.basePath+r.path;default:return r.path}}.call(s),!s._isRedirect(r.host,t,l.location)||(s._redirect(r,o,t),s._isJustPathHashDifferent(r.host,t,l.location))){if(s._isOrphan(r)){if(!1===r.orphan)return s._debug("Skip the orphan step "+(s._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(n?s._showPrevStep():s._showNextStep());s._debug("Show the orphan step "+(s._current+1)+". Orphans option is true.")}return r.backdrop&&s._showBackdrop(r),e=function(){return s.getCurrentStep()!==o||s.ended()?void 0:(null!=r.element&&r.backdrop&&s._showOverlayElement(r),s._showPopover(r,o),null!=r.onShown&&r.onShown(s),s._debug("Step "+(s._current+1)+" of "+s._options.steps.length))},r.autoscroll?s._scrollIntoView(r.element,e):e(),r.duration?s.resume():void 0}},r.delay?(this._debug("Wait "+r.delay+" milliseconds to show the step "+(this._current+1)),u.setTimeout((i=this,function(){return i._callOnPromiseDone(t,e)}),r.delay)):this._callOnPromiseDone(t,e),t):void 0},t.prototype.getCurrentStep=function(){return this._current},t.prototype.setCurrentStep=function(t){return null!=t?(this._current=t,this._setState("current_step",t)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},t.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()).element,!0)},t.prototype._setState=function(t,e){var o;if(this._options.storage){o=this._options.name+"_"+t;try{this._options.storage.setItem(o,e)}catch(t){t.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(o,e)}return null==this._state&&(this._state={}),this._state[t]=e},t.prototype._removeState=function(t){var e;return this._options.storage?(e=this._options.name+"_"+t,this._options.storage.removeItem(e),this._options.afterRemoveState(e)):null!=this._state?delete this._state[t]:void 0},t.prototype._getState=function(t){var e,o;return this._options.storage?(e=this._options.name+"_"+t,o=this._options.storage.getItem(e)):null!=this._state&&(o=this._state[t]),void 0!==o&&"null"!==o||(o=null),this._options.afterGetState(t,o),o},t.prototype._showNextStep=function(){var t,e,o,n;return o=this.getStep(this._current),e=function(){return n.showStep(o.next)},t=(n=this)._makePromise(null!=o.onNext?o.onNext(this):void 0),this._callOnPromiseDone(t,e)},t.prototype._showPrevStep=function(){var t,e,o,n;return o=this.getStep(this._current),e=function(){return n.showStep(o.prev)},t=(n=this)._makePromise(null!=o.onPrev?o.onPrev(this):void 0),this._callOnPromiseDone(t,e)},t.prototype._debug=function(t){return this._options.debug?u.console.log("Bootstrap Tour '"+this._options.name+"' | "+t):void 0},t.prototype._isRedirect=function(t,e,o){var n;return!(""===t||!this._isHostDifferent(t,o.href))||(n=[o.pathname,o.search,o.hash].join(""),null!=e&&""!==e&&("[object RegExp]"==={}.toString.call(e)&&!e.test(n)||"[object String]"==={}.toString.call(e)&&this._isPathDifferent(e,n)))},t.prototype._isHostDifferent=function(t,e){return this._getProtocol(t)!==this._getProtocol(e)||this._getHost(t)!==this._getHost(e)},t.prototype._isPathDifferent=function(t,e){return this._getPath(t)!==this._getPath(e)||!this._equal(this._getQuery(t),this._getQuery(e))||!this._equal(this._getHash(t),this._getHash(e))},t.prototype._isJustPathHashDifferent=function(t,e,o){var n;return(""===t||!this._isHostDifferent(t,o.href))&&(n=[o.pathname,o.search,o.hash].join(""),"[object String]"==={}.toString.call(e)&&this._getPath(e)===this._getPath(n)&&this._equal(this._getQuery(e),this._getQuery(n))&&!this._equal(this._getHash(e),this._getHash(n)))},t.prototype._redirect=function(t,e,o){if(h.isFunction(t.redirect))return t.redirect.call(this,o);if(!0===t.redirect){if(this._debug("Redirect to "+t.host+o),this._getState("redirect_to")!==""+e)return this._setState("redirect_to",""+e),l.location.href=""+t.host+o;if(this._debug("Error redirection loop to "+o),this._removeState("redirect_to"),null!=t.onRedirectError)return t.onRedirectError(this)}},t.prototype._isOrphan=function(t){return null==t.element||!h(t.element).length||h(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==h(t.element)[0].namespaceURI},t.prototype._isLast=function(){return this._current<this._options.steps.length-1},t.prototype._showPopover=function(t,e){var o,n,r,i,s,a;return h(".tour-"+this._options.name).remove(),i=h.extend({},this._options),r=this._isOrphan(t),t.template=this._template(t,e),r&&(t.element="body",t.placement="top"),(o=h(t.element)).addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+e+"-element"),t.options&&h.extend(i,t.options),t.reflex&&!r&&h(t.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(t.reflex)+".tour-"+this._options.name).on(this._reflexEvent(t.reflex)+".tour-"+this._options.name,(a=this,function(){return a._isLast()?a.next():a.end()})),s=!0===t.smartPlacement&&-1===t.placement.search(/auto/i),o.popover({placement:s?"auto "+t.placement:t.placement,trigger:"manual",title:t.title,content:t.content,html:!0,animation:t.animation,container:t.container,template:t.template,selector:t.element}).popover("show"),(n=o.data("bs.popover")?o.data("bs.popover").tip():o.data("popover").tip()).attr("id",t.id),this._reposition(n,t),r?this._center(n):void 0},t.prototype._template=function(t,e){var o,n,r,i,s,a;return a=t.template,this._isOrphan(t)&&"[object Boolean]"!=={}.toString.call(t.orphan)&&(a=t.orphan),r=(o=(s=h.isFunction(a)?h(a(e,t)):h(a)).find(".popover-navigation")).find('[data-role="prev"]'),n=o.find('[data-role="next"]'),i=o.find('[data-role="pause-resume"]'),this._isOrphan(t)&&s.addClass("orphan"),s.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+e),t.reflex&&s.addClass("tour-"+this._options.name+"-reflex"),t.prev<0&&(r.addClass("disabled"),r.prop("disabled",!0)),t.next<0&&(n.addClass("disabled"),n.prop("disabled",!0)),t.duration||i.remove(),s.clone().wrap("<div>").parent().html()},t.prototype._reflexEvent=function(t){return"[object Boolean]"==={}.toString.call(t)?"click":t},t.prototype._reposition=function(t,e){var o,n,r,i,s,a,p;if(i=t[0].offsetWidth,n=t[0].offsetHeight,s=(p=t.offset()).left,a=p.top,(o=h(l).outerHeight()-p.top-t.outerHeight())<0&&(p.top=p.top+o),(r=h("html").outerWidth()-p.left-t.outerWidth())<0&&(p.left=p.left+r),p.top<0&&(p.top=0),p.left<0&&(p.left=0),t.offset(p),"bottom"===e.placement||"top"===e.placement){if(s!==p.left)return this._replaceArrow(t,2*(p.left-s),i,"left")}else if(a!==p.top)return this._replaceArrow(t,2*(p.top-a),n,"top")},t.prototype._center=function(t){return t.css("top",h(u).outerHeight()/2-t.outerHeight()/2)},t.prototype._replaceArrow=function(t,e,o,n){return t.find(".arrow").css(n,e?50*(1-e/o)+"%":"")},t.prototype._scrollIntoView=function(t,e){var o,n,r,i,s,a,p;return(o=h(t)).length?(n=h(u),i=o.offset().top,a=n.height(),s=Math.max(0,i-a/2),this._debug("Scroll into view. ScrollTop: "+s+". Element offset: "+i+". Window height: "+a+"."),r=0,h("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(s)},(p=this,function(){return 2==++r?(e(),p._debug("Scroll into view.\nAnimation end element offset: "+o.offset().top+".\nWindow height: "+n.height()+".")):void 0}))):e()},t.prototype._onResize=function(t,e){return h(u).on("resize.tour-"+this._options.name,function(){return clearTimeout(e),e=setTimeout(t,100)})},t.prototype._initMouseNavigation=function(){var o,e,n,r;return o=this,h(l).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",(r=this,function(t){return t.preventDefault(),r.next()})).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",(n=this,function(t){return t.preventDefault(),n.prev()})).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",(e=this,function(t){return t.preventDefault(),e.end()})).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(t){var e;return t.preventDefault(),(e=h(this)).text(o._paused?e.data("pause-text"):e.data("resume-text")),o._paused?o.resume():o.pause()})},t.prototype._initKeyboardNavigation=function(){return this._options.keyboard?h(l).on("keyup.tour-"+this._options.name,(e=this,function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),e._isLast()?e.next():e.end();case 37:if(t.preventDefault(),0<e._current)return e.prev();break;case 27:return t.preventDefault(),e.end()}})):void 0;var e},t.prototype._makePromise=function(t){return t&&h.isFunction(t.then)?t:null},t.prototype._callOnPromiseDone=function(t,e,o){return t?t.then((n=this,function(){return e.call(n,o)})):e.call(this,o);var n},t.prototype._showBackdrop=function(t){return this.backdrop.backgroundShown?void 0:(this.backdrop=h("<div>",{class:"tour-backdrop"}),this.backdrop.backgroundShown=!0,h(t.backdropContainer).append(this.backdrop))},t.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},t.prototype._hideBackground=function(){return this.backdrop?(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1):void 0},t.prototype._showOverlayElement=function(t,e){var o,n;return!(o=h(t.element))||0===o.length||this.backdrop.overlayElementShown&&!e?void 0:(this.backdrop.overlayElementShown||(this.backdrop.$element=o.addClass("tour-step-backdrop"),this.backdrop.$background=h("<div>",{class:"tour-step-background"}),this.backdrop.$background.appendTo(t.backdropContainer),this.backdrop.overlayElementShown=!0),n={width:o.innerWidth(),height:o.innerHeight(),offset:o.offset()},t.backdropPadding&&(n=this._applyBackdropPadding(t.backdropPadding,n)),this.backdrop.$background.width(n.width).height(n.height).offset(n.offset))},t.prototype._hideOverlayElement=function(){return this.backdrop.overlayElementShown?(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1):void 0},t.prototype._applyBackdropPadding=function(t,e){return"object"==typeof t?(null==t.top&&(t.top=0),null==t.right&&(t.right=0),null==t.bottom&&(t.bottom=0),null==t.left&&(t.left=0),e.offset.top=e.offset.top-t.top,e.offset.left=e.offset.left-t.left,e.width=e.width+t.left+t.right,e.height=e.height+t.top+t.bottom):(e.offset.top=e.offset.top-t,e.offset.left=e.offset.left-t,e.width=e.width+2*t,e.height=e.height+2*t),e},t.prototype._clearTimer=function(){return u.clearTimeout(this._timer),this._timer=null,this._duration=null},t.prototype._getProtocol=function(t){return 1<(t=t.split("://")).length?t[0]:"http"},t.prototype._getHost=function(t){return(t=1<(t=t.split("//")).length?t[1]:t[0]).split("/")[0]},t.prototype._getPath=function(t){return t.replace(/\/?$/,"").split("?")[0].split("#")[0]},t.prototype._getQuery=function(t){return this._getParams(t,"?")},t.prototype._getHash=function(t){return this._getParams(t,"#")},t.prototype._getParams=function(t,e){var o,n,r,i,s;if(1===(n=t.split(e)).length)return{};for(r={},i=0,s=(n=n[1].split("&")).length;i<s;i++)r[(o=(o=n[i]).split("="))[0]]=o[1]||"";return r},t.prototype._equal=function(t,e){var o,n;if("[object Object]"!=={}.toString.call(t)||"[object Object]"!=={}.toString.call(e))return t===e;for(o in t)if(n=t[o],e[o]!==n)return!1;for(o in e)if(n=e[o],t[o]!==n)return!1;return!0},u.Tour=t;function t(t){var e;try{e=u.localStorage}catch(t){e=!1}this._options=h.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:e,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){},onRedirectError:function(){}},t),this._force=!1,this._inited=!1,this._current=null,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}}(jQuery,window);